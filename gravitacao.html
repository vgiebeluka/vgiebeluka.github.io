<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!--METADADOS-->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Gravitação e marés</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
  </head>
  <!--CORPO DA PÁGINA-->
  <body>
    <!--BARRA DE NAVEGAÇÃO-->
    <header>
      <nav>
        <div class="nav-title">
          <a href="index.html">
            <img src="img/logoCEM.svg" alt="" width="48px" />
            <div class="nav-title-span">
              <span>Universidade Federal do Paraná</span>
              <span>Centro de Estudos do Mar</span>
            </div>
          </a>
        </div>
        <ul>
          <li><a href="sobre.html">Sobre</a></li>
          <li class="dropdown">
            <a href="#">Tópicos</a>
            <div class="dropdown-content">
              <a href="gravitacao.html">Gravitação e marés</a>
              <a href="formacao-ondas.html">Formação das ondas</a>
              <a href="pressao.html">Pressão atmosférica</a>
              <a href="agua-do-mar.html">A Água do Mar</a>
              <a href="fenomenos-sismicos.html">Fenômenos sísmicos</a>
              <a href="forcas-de-coriolis.html">Forças de Coriolis</a>
              <a href="forcas-de-atrito.html">Forças de atrito</a>
              <a href="curiosidades.html">Curiosidades</a>
              <a href="sobre.html">Sobre</a>
            </div>
          </li>
        </ul>
      </nav>
    </header>
    <!--CONTEÚDO DA PÁGINA-->
    <main>
      <div class="conteudo">
        <h1>Gravitação e marés</h1>
        <p>
          Desde a antiguidade, o céu vem sendo usado como mapa, calendário e
          relógio. Naquela época, os astros eram estudados com objetivos
          práticos, como prever a melhor época para o plantio e a colheita. Com
          o passar do tempo, várias pessoas tentaram criar teorias para explicar
          o comportamento dos astros, até chegar em Isaac Newton que descobriu a
          Lei da Gravitação Universal que conhecemos hoje. <br /><br />A
          gravitação universal é uma lei descrita por Newton que aborda a
          relação de atração entre o sol e os planetas do sistema solar, mas que
          pode ser aplicada a sistemas menores (planetas e satélites) ou maiores
          (galáxias, etc.). Por meio da proposição da Lei da Gravitação
          Universal, foi possível predizer o raio das órbitas planetárias, o
          período de asteroides, eventos astronômicos como eclipses,
          determinação da massa e raio de planetas e estrelas, etc. A Lei da
          Gravitação Universal estabelece que, se dois corpos possuem massa,
          eles sofrem a ação de uma força atrativa proporcional ao produto de
          suas massas e inversamente proporcional ao quadrado da sua distância.
          Ou seja:
        </p>
        <div class="img-container">
          <img src="img/EqGrav.jpg" />
          <p>
            Onde G é a constante da
            <a
              href="https://pt.wikipedia.org/wiki/Constante_gravitacional_universal"
              >Gravitação Universal</a
            >
          </p>
        </div>
        <p>
          A atração gravitacional também implica no fenômeno das marés. As marés
          são movimentos oceânicos que ocorrem periodicamente, caracterizadas
          pela subida e descida no nível de água. Esse fenômeno ocorre em
          virtude da atração gravitacional exercida pela Lua e pelo Sol sobre o
          mar. As marés altas ocorrem nas regiões que estão mais próximas ao Sol
          e à Lua, enquanto nas demais regiões ocorrem as marés baixas. Quando a
          água do mar está mais próxima da Lua, aquela é atraída por esta com
          uma força de maior intensidade do que nos demais pontos.
          Consequentemente, nos pontos intermediários, o nível do mar baixa e
          ocorre a maré baixa.<br /><br />Cada uma das marés acontecem
          (geralmente) duas vezes em todos os pontos do planeta. Quando há o
          alinhamento entre o Sol, a Terra e a Lua, as forças gravitacionais
          sobrepõem-se e as marés ficam bem mais elevadas, no que é conhecido
          como maré de sizígia ou maré viva. Já quando o alinhamento entre estes
          três corpos celestes ocorre na forma de um triângulo retângulo, temos
          a maré de quadratura ou maré morta, que apresenta uma elevação menor
          já que as forças de atração gravitacional do Sol e da Lua concorrem
          entre si.
        </p>
        <div class="img-container">
          <img src="img/Marésss-1.jpg" />
          <p>
            Marés de sizígia (ou vivas), acima, e de quadratura (ou mortas),
            abaixo. Fonte:
            <a
              href="https://www.bioicos.org.br/post/o-incrivel-fenomeno-das-mares-uma-onda-oceanica"
              >Instituto Bióicos</a
            >.
          </p>
        </div>

        <p>
          A influência da Lua e do Sol sobre as marés não é a mesma. A maior
          responsável pela movimentação das águas dos oceanos é a Lua – nosso
          satélite natural. O Sol também possui esse poder de atração, no
          entanto a influência da Lua é sentida de maneira mais forte pois,
          embora as dimensões do Sol sejam extremamente superiores às da Lua e
          portanto com um campo gravitacional muito mais potente, a sua maior
          distância em relação à Terra reduz esse impacto sobre as marés.
          <br /><br />
          Estima-se que o "puxão gravitacional" exercido pela Lua sobre os mares
          seja aproximadamente o dobro da força exercida pelo Sol. Apesar disto,
          calcular efetivamente a altura das marés não é uma tarefa fácil, pois
          depende de diversos fatores como posição no globo terrestre, a posição
          do Sol e da Lua em relação a Terra, e em relação à ecliptica, tempo
          sideral, etc. Mas você pode encontrar facilmente a previsão das marés
          no site da
          <a href="https://www.marinha.mil.br/chm/tabuas-de-mare"
            >Marinha do Brasil</a
          >.
        </p>

        <h2>Simulações</h2>
        <p>
          1) A simulação a seguir mostra os efeitos das marés do Sol e da Lua. O
          Sol não é representado diretamente, mas simbolizado por seus raios de
          luz. Como a rotação da Terra não desempenha um papel na existência das
          marés, ela pode ser ligada e desligada no applet. A influência da
          rotação da Terra é evidente nos ciclos de marés, já que a Terra gira
          sob as protuberâncias das marés.
        </p>

        <div id="simulador-mares">
          <iframe
            src="tides/dist/tides.html"
            frameborder="0"
            width="1000px"
            height="800px"
          ></iframe>
          <p>
            Fonte:
            <a href="https://beltoforion.de/en/tides/simulation.php"
              >Tides explained - A JavaScript applet to visualize Tides</a
            >. Adaptado para a língua portuguesa e funcionalidades adicionais
            para dispositivos móveis.
          </p>
        </div>
        <p>
          2) A simulação a seguir mostra a variação das marés em um período de
          24 horas de acordo com dados registrados pela
          <a href="https://tabuademares.com/br/parana/pontal-do-parana"
            >Tabua de Marés</a
          >, no dia 09 de março 2024, no Canal da Galheta em Pontal do Paraná.
        </p>
      </div>

      <div class="canvas">
        <canvas id="cnv" width="600" height="400"> </canvas>
        <div>
          <canvas
            id="graph"
            width="600"
            height="240"
            style="border: 1px solid #000000; display: block; margin-top: 20px"
          ></canvas>
        </div>

        <!--Cria uma área para desenhar -->

        <script>
          var cnv = document.getElementById("cnv");
          var pincel = cnv.getContext("2d");

          let cor = "white"; // Cor do círculo Sol/Lua
          let x = cnv.width / 2; // Posição inicial Sol/Lua

          let targetWheight = 60; // Altura alvo das ondas
          let currentWheight = 60; // Altura atual das ondas

          let y0 = 8;
          let k = (2 * Math.PI) / 100;
          let w = 2 * Math.PI * 2;
          let zz = 10;
          let zzt = 0.004;

          function drawElements() {
            // Limpa o canvas
            pincel.clearRect(0, 0, cnv.width, cnv.height);

            // Reinicia a matriz de transformação
            pincel.setTransform(1, 0, 0, 1, 0, 0);

            // Desenha elementos estáticos

            // Ajuste para garantir que currentWheight não ultrapasse os limites do canvas
            let maxAllowedHeight = cnv.height; // Altura máxima do canvas
            let minAllowedHeight = 0; // Altura mínima do canvas

            if (currentWheight > maxAllowedHeight) {
              currentWheight = maxAllowedHeight;
            } else if (currentWheight < minAllowedHeight) {
              currentWheight = minAllowedHeight;
            }

            // Aplica transformação para inverter o eixo y
            pincel.setTransform(1, 0, 0, -1, 0, cnv.height);

            // Desenha o sol

            let solX = calculateSunPosition(t);

            // Define a cor do sol baseado na hora do dia
            if (t >= 6 && t < 18) {
              cor = "yellow"; // Dia
            } else {
              cor = "white"; // Noite
            }

            pincel.beginPath();
            pincel.arc(solX, 330, 30, 0, 2 * Math.PI, 0);
            pincel.fillStyle = cor;
            pincel.fill();

            // Função para desenhar as ondas

            function passo() {
              pincel.clearRect(0, 0, 520, currentWheight);

              pincel.beginPath();
              for (let x = 0; x <= 600; x++) {
                let y = currentWheight + y0 * Math.sin(k * x - w * zz);
                pincel.lineTo(x, y);
              }
              pincel.lineTo(600, 0);
              pincel.lineTo(0, 0);
              pincel.closePath();

              pincel.fillStyle = "blue";
              pincel.fill();

              zz = zz + zzt;
            }
            passo();

            pincel.fillStyle = "green";
            pincel.beginPath();
            pincel.arc(980, -720, 1000, Math.PI, 1.5 * Math.PI, true);
            pincel.lineTo(600, 0);
            pincel.closePath();
            pincel.fill();
          }

          // Função para calcular a posição do sol com base no tempo (t)

          function calculateSunPosition(t) {
            // Definir limites estendidos
            let maxX = cnv.width + 40; // Estender além da borda direita
            let minX = -40; // Estender além da borda esquerda

            // Começar no meio quando t = 0
            let sunPosition = cnv.width / 2 + ((t % 12) / 12) * (maxX - minX);

            // Ajustar para fazer o sol loopar suavemente
            if (sunPosition > maxX) {
              sunPosition -= maxX - minX;
            } else if (sunPosition < minX) {
              sunPosition += maxX - minX;
            }

            return sunPosition;
          }

          var graphCnv = document.getElementById("graph");
          var graphPincel = graphCnv.getContext("2d");
          graphPincel.setTransform(1, 0, 0, -1, 0, graphCnv.height);

          let t = 0; // Variável para acompanhar o tempo atual em horas

          let yOffset = 20; // Valor de deslocamento vertical, ajuste conforme necessário

          // Função para calcular a altura da curva com base no tempo
          function calculateHeight(t) {
            if (t < 9.82) {
              return 0.6 * Math.sin(t / 2.32 + 0.48) + 1.3;
            } else if (t < 15.1) {
              return 0.6 * Math.sin(t / 1.681 - 1.129) + 1.3;
            } else if (t < 21.4) {
              return 0.9 * Math.sin(t / 2.005 + 0.304) + 1.0;
            } else {
              return 0.9 * Math.sin(t / 1.147 - 20.23) + 1.0;
            }
          }

          // Função para desenhar o gráfico

          function drawGraph() {
            graphPincel.clearRect(0, 0, graphCnv.width, graphCnv.height);
            graphPincel.beginPath();

            graphPincel.moveTo(0, calculateHeight(0) * 100 + yOffset); // Move para o ponto inicial da curva

            for (let i = 1; i <= graphCnv.width; i++) {
              let height = calculateHeight((i * 24) / graphCnv.width); // Calcula a altura para cada posição x
              graphPincel.lineTo(i, height * 100 + yOffset); // Desenha linha até a altura calculada
            }
            graphPincel.strokeStyle = "black";
            graphPincel.stroke();

            // Desenha círculo no gráfico baseado no tempo atual (t)
            let circleX = t * (graphCnv.width / 24);
            let circleY = calculateHeight(t) * 100 + yOffset;
            graphPincel.beginPath();
            graphPincel.arc(circleX, circleY, 5, 0, 2 * Math.PI);
            graphPincel.fillStyle = "red";
            graphPincel.fill();

            // Atualiza a posição do círculo com base na curva do gráfico
            currentWheight = circleY - yOffset; // Atualiza currentWheight para coincidir com circleY sem o yOffset

            // Desenha as legendas no canvas principal
            graphPincel.save();
            graphPincel.setTransform(1, 0, 0, 1, 0, 0);

            // Legenda do eixo horizontal (Horas)
            graphPincel.font = "12px Arial";
            graphPincel.fillStyle = "black";
            graphPincel.textAlign = "center";
            graphPincel.fillText(
              "T (h)",
              graphCnv.width - 20,
              graphCnv.height - 10
            );
            let horas = [2, 6, 10, 14, 18, 22];
            horas.forEach((hora) => {
              let x = (hora / 24) * graphCnv.width;
              graphPincel.fillText(hora + "h", x, graphCnv.height - 15);
              graphPincel.beginPath();
              graphPincel.moveTo(x, graphCnv.height - 10);
              graphPincel.lineTo(x, graphCnv.height - 0);
              graphPincel.stroke();
            });

            // Legenda do eixo vertical (Altura)
            graphPincel.font = "12px Arial";
            graphPincel.fillStyle = "black";
            graphPincel.textAlign = "left";
            graphPincel.fillText("Altura (m)", 4, 15);
            for (let i = 0; i <= 1.6; i += 0.4) {
              let y = graphCnv.height - 36 - (i / 2.2) * graphCnv.height;
              graphPincel.fillText(i.toFixed(1) + "m", 15, y + 5);
              graphPincel.beginPath();
              graphPincel.moveTo(10, y);
              graphPincel.lineTo(0, y);
              graphPincel.stroke();
            }

            graphPincel.restore();

            requestAnimationFrame(drawGraph);
          }

          drawGraph();

          let lastFrameTime = performance.now();
          let smoothingFactor = 0.9;

          // Função para mudar a cor do fundo do canvas que representa o céu

          function updateGradient(t) {
            let gradient1 = [0, 249, 255]; // Cor do dia
            let gradient2 = [46, 68, 130]; // Cor da noite

            let diaInicio = 7;
            let diaFim = 18;

            if (t >= 24) {
              t -= 24;
            }

            let r, g, b;
            if (t >= diaInicio && t < diaFim) {
              r = gradient1[0];
              g = gradient1[1];
              b = gradient1[2];
            } else if (
              (t >= diaFim && t < diaFim + 1) ||
              (t >= diaInicio - 1 && t < diaInicio) ||
              (t >= 6 && t < 8) ||
              (t >= 17 && t < 19)
            ) {
              let blendFactor;
              if (t >= diaFim) {
                blendFactor = (t - diaFim) / 1;
              } else if (t >= diaInicio - 1) {
                blendFactor = 1 - (t - (diaInicio - 1));
              } else if (t >= 6 && t < 7) {
                blendFactor = 1 - (t - 6);
              } else if (t >= 7 && t < 8) {
                blendFactor = t - 7;
              } else if (t >= 17 && t < 18) {
                blendFactor = 1 - (t - 17);
              } else if (t >= 18 && t < 19) {
                blendFactor = t - 18;
              }

              r = Math.round(
                gradient1[0] * (1 - blendFactor) + gradient2[0] * blendFactor
              );
              g = Math.round(
                gradient1[1] * (1 - blendFactor) + gradient2[1] * blendFactor
              );
              b = Math.round(
                gradient1[2] * (1 - blendFactor) + gradient2[2] * blendFactor
              );
            } else {
              r = gradient2[0];
              g = gradient2[1];
              b = gradient2[2];
            }

            document.getElementById(
              "cnv"
            ).style.background = `rgb(${r}, ${g}, ${b})`;
          }

          function changeValues() {
            let now = performance.now();
            let dt = (now - lastFrameTime) / 200;

            dt = smoothingFactor * dt + (1 - smoothingFactor) * dt;

            lastFrameTime = now;

            t += dt * 0.25;

            if (t >= 24) {
              t -= 24;
            }
          }

          // Função para executar os loops da animação
          function runLoop() {
            setInterval(() => {
              changeValues();
              drawElements();
              updateGradient(t);
            }, 10); // Ajuste o tempo conforme necessário
          }

          runLoop();
        </script>
      </div>
      <div class="conteudo">
        <h2>Referências</h2>
        <p>
          CORRÊA, Iran Carlos Stalliviere; CHAFFE, Laureano Ibrahim. "História
          da Astronomia"; MT Ciências. <br />
          Disponível em:
          <a
            href="http://mtciencias.com.br/wp-content/uploads/2019/03/Historia_da_Astronomia.pdf"
            >http://mtciencias.com.br/wp-content/uploads/2019/03/Historia_da_Astronomia.pdf</a
          >. Acesso em 15 de outubro de 2021.
        </p>
        <p>
          SANTOS, Marco Aurélio da Silva. "A Gravitação Universal"; Mundo
          Educação.<br />
          Disponível em:
          <a
            href="https://mundoeducacao.uol.com.br/fisica/a-gravitacao-universal.htm"
            >https://mundoeducacao.uol.com.br/fisica/a-gravitacao-universal.htm</a
          >. <br />
          Acesso em 15 de outubro de 2021
        </p>
        <p>
          HELERBROCK, Rafael. "Gravitação Universal"; Brasil Escola. <br />
          Disponível em:
          <a
            href="https://brasilescola.uol.com.br/fisica/gravitacao-universal.htm"
            >https://brasilescola.uol.com.br/fisica/gravitacao-universal.htm</a
          >. <br />Acesso em 16 de outubro de 2021.
        </p>
        <p>
          RIBEIRO, Amarolina. "Marés"; Brasil Escola. <br />
          Disponível em:
          <a href="https://brasilescola.uol.com.br/geografia/mares.htm"
            >https://brasilescola.uol.com.br/geografia/mares.htm</a
          >. <br />Acesso em 19 de outubro de 2021.
        </p>
        <p>
          TEIXEIRA, Mariane Mendes. "Marés"; Mundo Educação. <br />
          Disponível em:
          <a href="https://mundoeducacao.uol.com.br/fisica/mares.htm"
            >https://mundoeducacao.uol.com.br/fisica/mares.htm</a
          >. <br />Acesso em 19 de outubro de 2021.
        </p>
        <p>
          MANTELLATTO, Paulo Meira Bonfim. "As Influências da Lua na Terra e o
          Fenômeno das Marés"; Trabalho de Conclusão de Curso, Departamento de
          Matemática, UFSCAR. <br />
          Disponível em:
          <a
            href="https://www.dm.ufscar.br/dm/index.php/component/attachments/download/19"
            >https://www.dm.ufscar.br/dm/index.php/component/attachments/download/19</a
          >. <br />Acesso em 10 de outubro de 2021.
        </p>
      </div>
    </main>

    <!--RODAPÉ-->
    <footer>
      <p>Universidade Federal do Paraná – Centro de Estudos do Mar, 2024</p>
    </footer>
  </body>
</html>
